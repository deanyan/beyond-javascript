<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Writing Effective JavaScript Code</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Beyond JavaScript</h1>
					<h3>Writing Effective JavaScript Code</h3>
					<p>
						<small>Created by <a href="https://github.com/deanyan">Dean Yan</a> / <a href="https://github.com/deanyan/beyond-javascript">github.com/deanyan</a></small>
					</p>
				</section>

				<section>
					<h2>Heads Up</h2>
					<ul>
						<li>More Effective Operators</li>
						<li>Object, Array Shortcut Notations</li>
						<li>Chainable Methods and Self-invoking Functions</li>
						<li>Worth To Note Features</lib>
						<li>jQuery Plugins Boilerplates</li>
						<li>Coding with Module Pattern</li>
					</ul>
					<aside class="notes">
						Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window (hit 's' on your keyboard).
					</aside>
				</section>

				<!-- Example of nested vertical slides -->
				<!--<section>
					<section>
						<h2>Vertical Slides</h2>
						<p>
							Slides can be nested inside of other slides,
							try pressing <a href="#" class="navigate-down">down</a>.
						</p>
						<a href="#" class="image navigate-down">
							<img width="178" height="238" src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>
					<section>
						<h2>Basement Level 1</h2>
						<p>Press down or up to navigate.</p>
					</section>
					<section>
						<h2>Basement Level 2</h2>
						<p>Cornify</p>
						<a class="test" href="http://cornify.com">
							<img width="280" height="326" src="https://s3.amazonaws.com/hakim-static/reveal-js/cornify.gif" alt="Unicorn">
						</a>
					</section>
					<section>
						<h2>Basement Level 3</h2>
						<p>That's it, time to go back up.</p>
						<a href="#/2" class="image">
							<img width="178" height="238" src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Up arrow" style="-webkit-transform: rotate(180deg);">
						</a>
					</section>
				</section>-->

				
					<section>
						<h2>Six Data Types</h2>
						<ul>
							<li>Number</li>
							<li>String</li>
							<li>Boolean</li>
							<li>Null</li>
							<li>Undefined</li>
							<li>Object</li>
						</ul>
					</section>
					<section>
						<h2>Six Falsy Values</h2>
						<p>That means if you put them in a logical execution, they all return false</p>
						<pre><code data-trim class="javascript">
false
							
null

undefined

The empty string ''

The number 0

The number NaN
						</code></pre>
						<p>All other values are truthy, including true, the string 'false', and all objects.</p>
					</section>
					<section>
						<p>More effective condition check</p>
						<pre><code data-trim class="javascript">
var label = jQuery(this),
f = label.attr('for'),
				
if (f) {
	var input = jQuery('#' + f);
	
}

if (input.val() != '') {
	this.hide(); 
}

</code></pre>
<pre><code data-trim class="javascript">	

var opts = $.extend({}, defaults, options);

if(!opts.country) {
	return this;
}
			</code></pre>
					</section>
					<section>
						<h2>More effective logic operator &amp;&amp; and &#124;&#124;</h2>
						<p>&& and || can be used as logic, such as</p>
						<pre><code class="javascript">
if(!input.attr('type') || $.inArray(input.attr('type'), validFields) != -1){
	
if(args.length > 1 && args[0] === "novalidate"){
	return this;
}    
						</code></pre>
						Or, you can use the other way,
						<pre><code class="javascript">
$.orderpath = $.orderpath || {};
						
(base.opts.selected || base.opts.year) === val
						</code></pre>
					</section>
				<section>
					<h2>Object Literals</h2>
					<p>
						One way
					</p>
					<pre><code class="javascript">
var defaults = new Object();

defaults.country = 'US';
defaults.dom = '#states';
defaults.currentState = '';
					</code></pre>
					<p>More effective way</p>
					<pre><code class="javascript">
var defaults = {
	country: 'US',
	dom: '#states',
	currentState: ''
};
</code></pre>
				<p></p>
				<p>Nested object literals</p>
<pre><code class="javascript">				
var priceMap = {
	monthly : {
		smallTier : '$4.99',
		middleTier : '$9.99',
		largeTier : '$29.99'
	},
	anually : {
		smallTier : '$49.00',
		middleTier : '$99.00',
		largeTier : '$299.00'
	}
};
</code></pre>
				</section>
				<section>
					<h2>Array Literals</h2>
					<p>
						Define an array with Array constructor
					</p>
					<pre><code class="javascript">
var validFields = new Array('text', 'password', 'email', 'color','date');
</code></pre>
				<p>More effective with Array literals</p>
				<pre><code class="javascript">
var validFields = ['text', 'password', 'email', 'color','date'];	
				</code></pre>
				<p>Mixture type of values</p>
<pre><code class="javascript">				
var misc = [
    'string', 98.6, true, false, null, undefined,
    ['nested', 'array'], {object: true}, NaN,
    Infinity
];
</code></pre>
				</section>
				<section>
					<h2>Prototype Inheritance</h2>
					<p>Instead of writing</p>
					<pre><code class="javascript">
 var Slot = function(field){
	this.field = field;
	
	this.getCurrentPosition = function(){
		return this.field.position();
	};

	this.getCurrentTooltip = function(){
		return this.field.next('.description');
	};

	this.hideTooltip = function(tooltip) {
		tooltip.css({display: 'none'}).stop(false, true).animate({ opacity: 0 }, 500);
	};
}
					</code></pre>
					<p>Put methods into object prototype</p>
						<pre><code class="javascript">
var Slot = function(field){
	this.field = field;
};

Slot.prototype.getCurrentPosition = function(){
	return this.field.position();
};

Slot.prototype.getCurrentTooltip = function(){
	return this.field.next('.description');
};

Slot.prototype.hideTooltip = function(tooltip) {
	tooltip.css({display: 'none'}).stop(false, true).animate({ opacity: 0 }, 500);
} 						
				</code></pre>		
				</section>
				<section>
					<h2>Make Object Chainable</h2>
					<p>Instead of writing</p>
					<pre><code class="javascript">
var Profile = function() {
	this.skills = [];
	this.id;
};

Profile.prototype = {
init: function() {
	this.removeProfile();
	this.deleteSkill();
	this.addSkills();
	this.closeModel();
},
removeProfile: function() {
	for(var i = 0, len = buttons.length; i < len; i++) {
	...

},
addSkills: function() {
	var profileId;

	for(var i = 0, len = buttons.length; i < len; i++) {

		(function(addButton){

		addButton.onclick = function() {
		//..
	}
	
},

deleteSkill: function() {
	for(var i = 0, len = anchors.length; i < len; i++) {
		(function(anchor){

			anchor.onclick = function() {
			//...
	}
}
}	
</code></pre>				
				</section>
				<section>
					<h2>Make Object Chainable</h2>
					<p>Make methods of the object chainable</p>
					<pre><code class="javascript">
var Profile = function() {
	this.skills = [];
	this.id;
};

Profile.prototype = {
init: function() {
	this.removeProfile()
		.deleteSkill()
		.addSkills()
		.closeModel();
},
removeProfile: function() {
	for(var i = 0, len = buttons.length; i < len; i++) {
	...

	return this;
},
addSkills: function() {
	var profileId;

	for(var i = 0, len = buttons.length; i < len; i++) {

		(function(addButton){

		addButton.onclick = function() {
		//..
	}
	
	return this;
	
},

deleteSkill: function() {
	for(var i = 0, len = anchors.length; i < len; i++) {
		(function(anchor){

			anchor.onclick = function() {
			//...
		}
		return this;
	}
}	
</code></pre>				
				</section>
			<section>
					<h2>Self-invoking function</h2>
					<p>Instead of writing</p>
					<pre><code class="javascript">
 var domRoot = document.getElementById('pwkmWedTicker'),
        s, domDays, domHours, domMinutes, timer = false,
        DAYUNIT = 1000 * 60 * 60 * 24;
</code></pre>
				<p>
						Make a close context and do not litter global environment
					</p>
<pre><code class="javascript">				
(function() {

    var domRoot = document.getElementById('pwkmWedTicker'),
	s, domDays, domHours, domMinutes, timer = false,
	DAYUNIT = 1000 * 60 * 60 * 24,
	//...
    domRoot = null;

}());		
</code></pre>
<p>Use widely in most jQuery-like code</p>
<pre><code class="javascript">
(function($, window, document, undefined){

	// your stuff, use $ sign boldly
	
})(jQuery, window, document);
</code></pre>
				</section>
			<section>
					<h2>Use Regex where possible</h2>
					<pre><code class="javascript">
var url = window.location.href,

path = /realplayer\/(\w+[\-\w]*)(\?|#|$|\/)/i.exec(url); 

if(path && path.length > 0) {
	// not sure if we can trust window.location.pathname
	url = window.location.protocol + "//" 
	+ window.location.hostname + '/realplayer/' + path[1]; 

!/^select$/gi.test(this.get(0).nodeName);
</code></pre>
				<p>
						Some of Regex used in jQuery 1.4.4
					</p>
<pre><code class="javascript">				
var rclass = /[\n\t]/g,

rspaces = /\s+/,

rreturn = /\r/g,

rspecialurl = /^(?:href|src|style)$/,

rtype = /^(?:button|input)$/i,

rfocusable = /^(?:button|input|object|select|textarea)$/i,

rclickable = /^a(?:rea)?$/i,

rradiocheck = /^(?:radio|checkbox)$/i;
</code></pre>
				</section>
			<section>
					<h2>Worth to care</h2>
					<p>Use typeof operator to get the type of a value</p>
					<pre><code class="javascript">
index = (typeof base.opts.selected === 'number') ?  base.opts.selected : base.opts.month,
						
if(typeof method == 'object' || !method){
	return methods.init.apply(this, arguments);
}else {
	$.error('Method' + method + 'does not exist on jQuery orderpath');
}					
</code></pre>
				<p>
					If you're not sure about the operands when compare them equal or not, use === or !== instead of == and !=
					</p>
<pre><code class="javascript">				
'' == '0'          // false
0 == ''            // true
0 == '0'           // true

false == 'false'   // false
false == '0'       // true
</code></pre>
<p>
					Do NOT append the trailing comma sign at the end of property of a object literals. Doing so makes IE complaint error.
					</p>
<pre><code class="javascript">				
var defaults = {
	country: 'US',
	dom: '#states',
	currentState: '',		//Do NOT use
};
</code></pre>
				</section>
	<section>
				<h2>jQuery Plugins</h2>
					<p>If you find you need manipulate something against more then three DOM elements, thinking about write a jQuery Plugins</p>
					<pre><code class="javascript">
$.fn.redirectToOrderPath = function(options) {

	var opts = $.extend(true, {}, $.fn.redirectToOrderPath.defaults, options);

	this.each(function() {
		// Your code goes here.
	});
};

$.fn.redirectToOrderPath.defaults = {
	baseURL : 'https://orders.real.com/rn',
	lang : 'en',
	country : 'US',
	plan2path : {
		'monthly_25GB' : '2080',
		'anually_25GB' : '2083',
		'monthly_100GB' : '2081',
		'anually_100GB' : '2084',
		'monthly_300GB' : '2082',
		'anually_300GB' : '2085'
	},
	acceptParams: true
};
</code></pre>
				<p>
						Invoking on mutliple elements made easy
					</p>
<pre><code class="javascript">				
$('.get-in').redirectToOrderPath({
	baseURL: 'https://orders-int.real.com/rn'
});
</code></pre>
				</section>
		<section>
			<h2>Module Pattern</h2>
				<p>Use module pattern to protect changes</p>
<pre><code class="javascript">				
var module = (function(){
var _private = {
i:5,
get: function() {
  console.log('current value:' + this.i);
},

set: function( val ) {
   this.i = val; 
},

run: function() {
   console.log('running'); 
},

jump: function() {
   console.log('jumping'); 
}
};

return {
facade: function( args ) {
   _private.set(args.val);
  _private.get();
  if( args.run ) {
	 _private.run(); 
  }
}

};
})();

module.facade({run: true, val: 10});
</code></pre>
				</section>
<section>
			<h2>Module Pattern</h2>
<ul>
	<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference">Mozilla JavaScript Reference</a></li>
	<li><a href="http://addyosmani.com/resources/essentialjsdesignpatterns/book/">Learning JavaScript Design Patterns</a></li>
	<li><a href="http://coding.smashingmagazine.com/2011/10/11/essential-jquery-plugin-patterns/">Essential jQuery Plugin Patterns</a></li>
</ul>
				</section>				
			</div>
		</div>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				height: 960,
				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
